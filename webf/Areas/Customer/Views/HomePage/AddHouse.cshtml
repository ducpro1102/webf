
@{
    ViewBag.Title = "AddHouse";
    Layout = "~/Areas/Customer/Views/Shared/_Layout.cshtml";
}


    <div class="contact" style="margin-bottom: 50px">
        <h2>Add House</h2>
        <div class="container">
            <p>Add a house in your list</p>
            <form>
                <div style="float:left;">
                    <label>Address</label>
                    <input type="text" placeholder="NAME" required="">
                </div>
                <div>
                    <label>Province</label>
                    <select id="province" style="width:180px">
                    </select>
                </div>
                <div>
                    <label>District</label>
                    <select id="district" style="width:180px">
                    </select>
                </div>
                <div>
                    <label>Ward</label>
                    <select id="ward" style="width:180px">
                    </select>
                </div>
                <div>
                    <label>Street</label>
                    <select id="street" style="width:180px">
                    </select>
                </div>
                <div>
                    <label>Area</label>
                    <select id="area" style="width:180px">
                    </select>
                </div>

                <input class="user" type="text" placeholder="USER@DOMAIN.COM" required=""><br>
                <textarea placeholder="MESSAGE"></textarea>
                <input type="submit" value="SEND">
            </form>
        </div>
    </div>
    <script>
        $(document).ready(function () {
            CHUNG_GAN_DL_COMBO('district', '', '');
            CHUNG_GAN_DL_COMBO('ward', '', '');
            CHUNG_GAN_DL_COMBO('street', '', '');
            CHUNG_GAN_DL_COMBO('area', '', '');

            //View all province
            $.ajax({
                url: "https://localhost:44320/api/Address/ViewProvince",
                success: function (result) {
                    CHUNG_GAN_DL_COMBO( 'province', '', result);
                }
            });
            //View all district
            $("#province").unbind('change');
            $("#province").bind('change', function () {
            var province_id = $('#province').val();
                if (province_id != "") {
                    $.ajax({
                        url: "https://localhost:44320/api/Address/ViewDistrict?province_id=" + province_id,
                        success: function (result) {
                            CHUNG_GAN_DL_COMBO('district', '', result);
                        }
                    });
                    CHUNG_GAN_DL_COMBO('ward', '', '');
                    CHUNG_GAN_DL_COMBO('street', '', '');
                    CHUNG_GAN_DL_COMBO('area', '', '');
                } else {
                    CHUNG_GAN_DL_COMBO('district', '', '');
                    CHUNG_GAN_DL_COMBO('ward', '', '');
                    CHUNG_GAN_DL_COMBO('street', '', '');
                    CHUNG_GAN_DL_COMBO('area', '', '');
                }
               

            });
            //View all ward
            $("#district").unbind('change');
            $("#district").bind('change', function () {
                var district = $('#district').val();
                var province = $('#province').val();
                if (district != "" && province !="") {
                    $.ajax({
                        url: "https://localhost:44320/api/Address/ViewWard?province_id=" + province + "&district_id=" + district,
                        success: function (result) {
                            CHUNG_GAN_DL_COMBO('ward', '', result);
                        }
                    });
                    $.ajax({
                        url: "https://localhost:44320/api/Address/ViewStreet?province_id=" + province + "&district_id=" + district,
                        success: function (result) {
                            CHUNG_GAN_DL_COMBO('street', '', result);
                        }
                    });
                    $.ajax({
                        url: "https://localhost:44320/api/Address/ViewArea?province_id=" + province + "&district_id=" + district,
                        success: function (result) {
                            CHUNG_GAN_DL_COMBO('area', '', result);
                        }
                    });
                } else {
                    CHUNG_GAN_DL_COMBO('ward', '', '');
                    CHUNG_GAN_DL_COMBO('street', '', '');
                    CHUNG_GAN_DL_COMBO('area', '', '');
                }
            });

          
          
        });
    </script>
